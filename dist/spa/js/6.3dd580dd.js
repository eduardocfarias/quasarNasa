(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"5a4e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"row"},[a("q-select",{staticClass:"col-12",attrs:{outlined:"",label:"Rovers","option-label":"rovers",options:t.optionsRover},on:{input:t.getManifest},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"electric_rickshaw"}})]},proxy:!0}]),model:{value:t.rovers,callback:function(e){t.rovers=e},expression:"rovers"}})],1),t.optionsSol.length>0?a("div",{staticClass:"row"},[a("q-select",{staticClass:"col-12",attrs:{outlined:"",options:t.optionsSol,"map-options":"","option-label":"sol",label:"Sol"},on:{input:t.setSolConfigurations},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"brightness_high"}})]},proxy:!0}],null,!1,2285751860),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1):t._e(),t.photoList.length>0?a("div",{staticClass:"row"},[a("q-select",{staticClass:"col-12",attrs:{outlined:"",label:"Cameras",options:t.cameraList2},on:{input:t.setSolConfigurations},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"camera"}})]},proxy:!0}],null,!1,2089814677),model:{value:t.cameras,callback:function(e){t.cameras=e},expression:"cameras"}})],1):t._e(),null!=t.model?a("div",[t._v("\r\n    Data da Terra: "+t._s(t.model.earth_date)+"\r\n  ")]):t._e(),a("div",{staticClass:"row q-mt-sm"},[a("q-table",{attrs:{grid:"",data:t.photoList,columns:t.columns,"row-key":"id","hide-header":"",pagination:t.pagination,"hide-pagination":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("div",{staticClass:"col-xs-12 col-md-3 q-pa-sm"},[a("q-card",{staticClass:"bg-primary text-white"},[a("q-img",{attrs:{src:e.row.img_src,radio:4/3},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-skeleton",{staticClass:"full-width full-height",attrs:{dark:"",height:"200px"}})]},proxy:!0}],null,!0)}),a("q-card-section",{staticClass:"q-pt-"},[a("q-separator",{attrs:{color:"negative"}}),a("div",{staticClass:"tex-subtitle2"},[a("q-icon",{attrs:{name:"brightness_high"}}),t._v(" Sol: "+t._s(e.row.sol)+"\r\n              ")],1),a("div",{staticClass:"tex-subtitle2"},[a("q-icon",{attrs:{name:"electric_rickshaw"}}),t._v("Rover: "+t._s(e.row.rover.name)+"\r\n              ")],1),a("div",{staticClass:"tex-subtitle2"},[a("q-icon",{attrs:{name:"electric_rickshaw"}}),t._v("Camera: "+t._s(e.row.camera.full_name)+"\r\n              ")],1)],1)],1)],1)]}}])})],1),a("div",{staticClass:"row justify-center"},[t.photoList.length>0?a("q-pagination",{attrs:{color:"black",max:t.pagesNumber,"max-pages":6,"boundary-numbers":!1},on:{input:t.getPhotos},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}):t._e()],1)])},o=[],i=(a("26e9"),{name:"PagePhotos",data(){return{model:"",rovers:"",cameras:null,manifest:{},optionsSol:[],optionsRover:["Curiosity","Opportunity","Spirit"],photoList:[],cameraList:[],cameraList2:[],solSelected:null,roverSelected:null,cameraSelected:null,columns:[{name:"id",field:"id"}],pagination:{sortBy:"desc",rowsPerPage:25,page:1,rowsNumber:300}}},computed:{pagesNumber(){return Math.ceil(this.pagination.rowsNumber/this.pagination.rowsPerPage)}},mounted(){},methods:{async getManifest(){try{this.cameras=null,this.model=null;const{data:t}=await this.$axios.get(`mars-photos/api/v1/manifests/${this.rovers}`);console.log(t),this.manifest=t.photo_manifest,this.optionsSol=t.photo_manifest.photos.reverse()}catch(t){console.error(t)}},async getPhotos(){this.photoList=[];try{const{data:t}=await this.$axios.get(null===this.cameras?`mars-photos/api/v1/rovers/${this.rovers}/photos?sol=${this.solSelected}&page=${this.pagination.page}`:`mars-photos/api/v1/rovers/${this.rovers}/photos?sol=${this.model.sol}&page=${this.pagination.page}&camera=${this.cameras}`);this.photoList=t.photos,null===this.cameras&&this.getPhotosFilterCam()}catch(t){console.error(t)}},getPhotosFilterCam(){this.cameraList2=[],this.cameraList=[];for(let t=0;t<this.photoList.length;t++)this.cameraList.push(this.photoList[t].camera.name);this.cameraList2=this.cameraList.filter(((t,e)=>this.cameraList.indexOf(t)===e)),console.log(this.cameraList2)},setSolConfigurations(t){this.solSelected=t.sol,this.cameraSelected=this.cameras,this.pagination.page=1,this.pagination.rowsNumber=t.total_photos,this.getPhotos()}}}),n=i,r=a("2877"),l=a("9989"),c=a("ddd8"),p=a("0016"),h=a("eaac"),m=a("f09f"),u=a("068f"),d=a("293e"),g=a("a370"),v=a("eb85"),f=a("3b16"),b=a("eebe"),_=a.n(b),w=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=w.exports;_()(w,"components",{QPage:l["a"],QSelect:c["a"],QIcon:p["a"],QTable:h["a"],QCard:m["a"],QImg:u["a"],QSkeleton:d["a"],QCardSection:g["a"],QSeparator:v["a"],QPagination:f["a"]})}}]);